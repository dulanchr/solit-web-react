{"version":3,"file":"index.js","sources":["../src/Carousel3d.tsx","../src/index.tsx"],"sourcesContent":["import React, { Children, useEffect, useRef, useState } from 'react'\nimport styles from './styles.module.css'\n\ntype Carousel3dProps = {\n  children: React.ReactNode\n  direction?:\n    | 'rtl'\n    | 'ltr'\n    | 'right'\n    | 'left'\n    | 'ttb'\n    | 'btt'\n    | 'top'\n    | 'bottom'\n}\n\nconst Carousel = ({ children, direction = 'ltr' }: Carousel3dProps) => {\n  const arrayChildren = Children.toArray(children)\n  const [labelIndex, setLabelIndex] = useState(1)\n  const savedCallback = useRef()\n\n  function callback() {\n    if (labelIndex === arrayChildren?.length) {\n      setLabelIndex(1)\n    } else {\n      setLabelIndex(labelIndex + 1)\n    }\n  }\n\n  useEffect(() => {\n    // @ts-ignore\n    savedCallback.current = callback\n  })\n\n  useEffect(() => {\n    function tick() {\n      // @ts-ignore\n      savedCallback.current()\n    }\n    const id = setInterval(tick, 2000)\n    return () => clearInterval(id)\n  }, [])\n\n  return (\n    <div className={styles.carousel3d}>\n      <section className={`${styles.slider} ${styles[`${direction}`]}`}>\n        {React.Children.map(arrayChildren, (child: React.ReactNode, index) => (\n          <div\n            key={`card-${index + 1}`}\n            className={`${styles.cSlide} ${\n              (labelIndex === 1 && index + 1 === arrayChildren.length) ||\n              (labelIndex > 1 && labelIndex - 2 === index)\n                ? styles.cSlidePrev\n                : (labelIndex === 1 && index + 2 === arrayChildren.length) ||\n                  (labelIndex === 2 && index + 1 === arrayChildren.length) ||\n                  (labelIndex > 1 && labelIndex - 3 === index)\n                ? styles.cSlidePrev2\n                : (labelIndex === arrayChildren.length - 1 && index === 0) ||\n                  labelIndex + 2 === index + 1 ||\n                  (labelIndex === arrayChildren.length - 1 && index === 0) ||\n                  (labelIndex === arrayChildren.length && index === 1)\n                ? styles.cSlideNext2\n                : labelIndex === index + 1\n                ? styles.cSlideActive\n                : labelIndex + 1 === index + 1 ||\n                  (labelIndex === arrayChildren.length && index === 0)\n                ? styles.cSlideNext\n                : ''\n            }`}\n          >\n            {child}\n          </div>\n        ))}\n      </section>\n    </div>\n  )\n}\n\nexport default Carousel\n","import * as React from 'react'\nimport Carousel3d from './Carousel3d'\n\n// import styles from './styles.module.css'\n\ninterface Props {\n  children: React.ReactNode\n}\n\nexport const Carousel = ({ children }: Props) => {\n  return <Carousel3d>{children}</Carousel3d>\n}\n"],"names":["Carousel","children","direction","arrayChildren","Children","toArray","useState","labelIndex","setLabelIndex","savedCallback","useRef","callback","length","useEffect","current","tick","id","setInterval","clearInterval","React","className","styles","carousel3d","slider","map","child","index","key","cSlide","cSlidePrev","cSlidePrev2","cSlideNext2","cSlideActive","cSlideNext","Carousel3d"],"mappings":"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"}